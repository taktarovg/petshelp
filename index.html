<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>–ü–æ–º–æ—â—å–ñ–∏–≤–æ—Ç–Ω—ã–º - –õ–µ–Ω—Ç–∞</title>
    <link rel="stylesheet" href="css/styles.css?v=1.2">
</head>
<body>
    <div class="app">
        <div class="header">
            <h1>üêæ –ü–æ–º–æ—â—å–ñ–∏–≤–æ—Ç–Ω—ã–º</h1>
            <div class="filters">
                <button class="filter-btn active" data-filter="all">–í—Å–µ</button>
                <button class="filter-btn" data-filter="critical">–ö—Ä–∏—Ç–∏—á–Ω–æ</button>
                <button class="filter-btn" data-filter="urgent">–°—Ä–æ—á–Ω–æ</button>
                <button class="filter-btn" data-filter="regular">–ê–∫—Ç—É–∞–ª—å–Ω–æ</button>
                <button class="filter-btn" data-filter="moscow">–ú–æ—Å–∫–≤–∞</button>
                <button class="filter-btn" data-filter="spb">–°–ü–±</button>
            </div>
        </div>

        <div class="stats">
            <div class="stat-item">
                <div class="stat-number">127</div>
                <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞—è–≤–æ–∫</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">89</div>
                <div class="stat-label">–ü–æ–º–æ—â—å –æ–∫–∞–∑–∞–Ω–∞</div>
            </div>
            <div class="stat-item">
                <div class="stat-number">1.2–∫</div>
                <div class="stat-label">–í–æ–ª–æ–Ω—Ç–µ—Ä–æ–≤</div>
            </div>
        </div>

        <div class="content">
            <div id="help-feed">
                <!-- Help cards will be inserted here -->
            </div>
            
            <div class="empty-state hidden" id="empty-state">
                <div style="font-size: 48px; margin-bottom: 16px;">üêï</div>
                <div>–ó–∞—è–≤–æ–∫ –ø–æ –≤—ã–±—Ä–∞–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º –Ω–µ –Ω–∞–π–¥–µ–Ω–æ</div>
                <div style="margin-top: 8px; font-size: 12px;">–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É</div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a href="index.html" class="nav-item active">
                <span class="nav-icon">üìã</span>
                <span class="nav-label">–õ–µ–Ω—Ç–∞</span>
            </a>
            <a href="favorites.html" class="nav-item">
                <span class="nav-icon">‚ù§Ô∏è</span>
                <span class="nav-label">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
            </a>
            <button class="fab" onclick="openCreateModal()">+</button>
            <a href="catalog.html" class="nav-item">
                <span class="nav-icon">üè¢</span>
                <span class="nav-label">–ö–∞—Ç–∞–ª–æ–≥</span>
            </a>
            <a href="profile.html" class="nav-item">
                <span class="nav-icon">üë§</span>
                <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
            </a>
        </div>
    </div>

    <!-- Create Modal -->
    <div id="createModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="back-btn" onclick="closeCreateModal()">‚Üê</button>
                <h2 class="modal-title">–°–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É</h2>
            </div>
            <form id="helpForm">
                <div class="form-group">
                    <label>–§–æ—Ç–æ –∂–∏–≤–æ—Ç–Ω–æ–≥–æ</label>
                    <div class="photo-preview" onclick="document.getElementById('photoInput').click()">
                        <div id="photoPlaceholder">üì∑ –î–æ–±–∞–≤–∏—Ç—å —Ñ–æ—Ç–æ</div>
                        <img id="photoPreview" class="hidden" alt="Preview">
                    </div>
                    <input type="file" id="photoInput" accept="image/*" style="display: none;" onchange="previewPhoto(event)">
                </div>
                
                <div class="form-group">
                    <label>–ó–∞–≥–æ–ª–æ–≤–æ–∫*</label>
                    <input type="text" id="title" placeholder="–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ —Å–∏—Ç—É–∞—Ü–∏—é" required>
                </div>
                
                <div class="form-group">
                    <label>–ì–æ—Ä–æ–¥*</label>
                    <select id="city" required>
                        <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≥–æ—Ä–æ–¥</option>
                        <option value="moscow">–ú–æ—Å–∫–≤–∞</option>
                        <option value="spb">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                        <option value="ekb">–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
                        <option value="nsk">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫</option>
                        <option value="other">–î—Ä—É–≥–æ–π</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–°—Ä–æ—á–Ω–æ—Å—Ç—å*</label>
                    <select id="urgency" required>
                        <option value="regular">–ê–∫—Ç—É–∞–ª—å–Ω–æ</option>
                        <option value="urgent">–°—Ä–æ—á–Ω–æ (–¥–æ 3 –¥–Ω–µ–π)</option>
                        <option value="critical">–ö—Ä–∏—Ç–∏—á–Ω–æ (–∂–∏–∑–Ω—å –ø–æ–¥ —É–≥—Ä–æ–∑–æ–π)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏*</label>
                    <textarea id="description" placeholder="–ü–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—à–∏—Ç–µ, –∫–∞–∫–∞—è –ø–æ–º–æ—â—å –Ω—É–∂–Ω–∞ –∂–∏–≤–æ—Ç–Ω–æ–º—É..." required></textarea>
                </div>
                
                <div class="form-group">
                    <label>–¢–∏–ø –ø–æ–º–æ—â–∏</label>
                    <select id="helpType">
                        <option value="financial">–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è –ø–æ–º–æ—â—å</option>
                        <option value="food">–ö–æ—Ä–º –∏ –ø–∏—Ç–∞–Ω–∏–µ</option>
                        <option value="medical">–í–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–∞—è –ø–æ–º–æ—â—å</option>
                        <option value="transport">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</option>
                        <option value="shelter">–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–µ—Ä–∂–∫–∞</option>
                        <option value="adoption">–ü–æ–∏—Å–∫ –¥–æ–º–∞</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>–ö–æ–Ω—Ç–∞–∫—Ç –¥–ª—è —Å–≤—è–∑–∏*</label>
                    <input type="text" id="contact" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ Telegram" required>
                </div>
                
                <button type="submit" class="btn">–û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –∑–∞—è–≤–∫—É</button>
                <button type="button" class="btn btn-secondary" onclick="closeCreateModal()" style="margin-top: 8px;">–û—Ç–º–µ–Ω–∞</button>
            </form>
        </div>
    </div>

    <!-- Detail Modal -->
    <div id="detailModal" class="modal detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <button class="back-btn" onclick="closeDetailModal()">‚Üê</button>
                <h2 class="modal-title">–î–µ—Ç–∞–ª–∏ –∑–∞—è–≤–∫–∏</h2>
            </div>
            <div id="detailContent">
                <!-- Detail content will be inserted here -->
            </div>
        </div>
    </div>

    <script src="js/common.js?v=1.2"></script>
    <script src="js/feed.js?v=1.2"></script>
    <script>
        // –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º Service Worker –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–µ—à–∞
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('/sw.js')
                .then(function(registration) {
                    console.log('SW registered:', registration);
                })
                .catch(function(error) {
                    console.log('SW registration failed:', error);
                });
        }
    </script>
</body>
</html>